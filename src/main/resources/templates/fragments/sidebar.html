<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org"
      xmlns:sec="http://www.thymeleaf.org/extras/spring-security">
<body>

<div th:fragment="sidebar(active)">
    <div class="d-flex flex-column flex-shrink-0 p-3 bg-light" style="width: 280px; min-height: 100vh;">
        <ul class="nav nav-pills flex-column mb-auto">

            <li class="nav-item text-center" sec:authorize="hasRole('ADMIN')">
                <a th:href="@{/admin}" class="nav-link"
                   th:classappend="${active}=='admin' ? ' active' : ' link-dark'">
                    Admin
                </a>
            </li>

            <li class="nav-item text-center" sec:authorize="hasAnyRole('USER','ADMIN')">
                <a th:href="@{/user}" class="nav-link"
                   th:classappend="${active}=='user' ? ' active' : ' link-dark'">
                    User
                </a>
            </li>

        </ul>

        <hr>

        <div class="d-flex align-items-center">
            <strong sec:authentication="name"></strong>
            <div class="ms-auto">
                <form th:action="@{/logout}" method="post" class="m-0">
                    <button type="submit" class="btn btn-link p-0">Logout</button>
                </form>
            </div>
        </div>
    </div>
</div>

</body>
</html>